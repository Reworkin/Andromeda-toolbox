# Бот
discord_server_bot.py

## Для работы
Требуется выполнить команды в ...корневая папка/Scripts/Server

1. Перейти в папку
cd Andromeda-toolbox/Scripts/Server

2. Создать venv (как мы делали)
python3 -m venv venv

3. Активировать
source venv/bin/activate

4. Установить discord.py
pip install discord.py

В боте указать:
1. Его токен
2. ID канала, куда он будет отписывать и откуда слушать команды
3. ID начальника, которого он будет слушать

ВАЖНО! ЭТА ВАША ЛИЧНАЯ ИНФОРМАЦИЯ И ОНА НЕ ДОЛЖНА БЫТЬ НА ГИТХАБЕ!!!

И уже потом ./start_bot.sh

## Запускайте бота в screen, если вы подключились к серверу, например через SSH/PowerShell

1. Установи screen если нет
sudo apt install screen -y

2. Создай сессию
screen -S ss14-bot

3. В этой сессии запусти бота
cd ~/ss14/Andromeda-toolbox/Scripts/Server
./start_bot.sh

4. Отключись от screen (оставит работать)
Нажмите: Ctrl+A, затем D

5. Если хотите вернуться обратно в работающего бота.
screen -r ss14-bot

## Команды управления ботом (в папке .../Scripts/Server):

./start_bot.sh   - запустить бота"
./stop_bot.sh    - остановить бота"

## Команды управления ботом в дискорде:

!update                                                 → стоп сервер → git pull → компиляция → старт сервер
!stop                                                   → остановка сервера
!stop_bot                                               → остановка бота 
!start                                                  → запуск сервера
!restart                                                → перезапуск
!status                                                 → статус процессов
!git                                                    → git команды
!compile                                                → только компиляция
!update_config(команда и конфиг одним сообщением)       → обновить конфиг

## Обнова конфига
config_update.sh
Копирует файл "server_config.toml"
Из ...корневая папка/Scripts/Server
В корневая папка/bin/Content.Server
НО, если папка bin существует, для этого нужно собрать сборку.

## Запуск сервера
runserver.sh
Запускает сервер. Как же это не понятно по названию.



По всем вопросам к @Rewokin, а лучше не надо, у него много работы и он злой.
- С любовью говнокодер @Rewokin